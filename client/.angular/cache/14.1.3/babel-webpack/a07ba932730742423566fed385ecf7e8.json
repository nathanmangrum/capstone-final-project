{"ast":null,"code":"import { ChangeDetectorRef } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/tasting-group.service\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"primeng/panel\";\nimport * as i6 from \"primeng/button\";\nimport * as i7 from \"primeng/dialog\";\nimport * as i8 from \"primeng/toast\";\nimport * as i9 from \"primeng/table\";\nimport * as i10 from \"../group-details/group-details.component\";\n\nfunction GroupsComponent_p_table_2_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2, \"Group Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Organization\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Sponsor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Member Count\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"th\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GroupsComponent_p_table_2_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 7)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelement(10, \"button\", 8);\n    i0.ɵɵelementStart(11, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function GroupsComponent_p_table_2_ng_template_2_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const groups_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.deleteGroup(groups_r7));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const groups_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"pSelectableRow\", groups_r7);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(groups_r7.GroupName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(groups_r7.OrganizationName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(groups_r7.SponsorName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(groups_r7.Members.length);\n  }\n}\n\nfunction GroupsComponent_p_table_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"p-table\", 4);\n    i0.ɵɵlistener(\"selectionChange\", function GroupsComponent_p_table_2_Template_p_table_selectionChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.selectedGroup = $event);\n    })(\"onRowSelect\", function GroupsComponent_p_table_2_Template_p_table_onRowSelect_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.showGroupDetails($event.data));\n    })(\"onRowUnselect\", function GroupsComponent_p_table_2_Template_p_table_onRowUnselect_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.showDetails = false);\n    });\n    i0.ɵɵtemplate(1, GroupsComponent_p_table_2_ng_template_1_Template, 10, 0, \"ng-template\", 5);\n    i0.ɵɵtemplate(2, GroupsComponent_p_table_2_ng_template_2_Template, 12, 5, \"ng-template\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const groups_r4 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", groups_r4)(\"selection\", ctx_r0.selectedGroup);\n  }\n}\n\nfunction GroupsComponent_p_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"p-button\", 10);\n    i0.ɵɵlistener(\"onClick\", function GroupsComponent_p_button_4_Template_p_button_onClick_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.showAddGroupModal());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GroupsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-group-details\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"groupDetails\", ctx_r2.selectedGroup);\n  }\n}\n\nfunction GroupsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"p-dialog\", 12);\n    i0.ɵɵlistener(\"visibleChange\", function GroupsComponent_div_6_Template_p_dialog_visibleChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.showAddGroup = $event);\n    });\n    i0.ɵɵtext(2, \" simple form \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"visible\", ctx_r3.showAddGroup)(\"modal\", true);\n  }\n}\n\nexport class GroupsComponent {\n  constructor(router, groupsService, messageService, changeDetector) {\n    this.router = router;\n    this.groupsService = groupsService;\n    this.messageService = messageService;\n    this.changeDetector = changeDetector;\n    this.showDetails = false;\n    this.showAddGroup = false;\n  }\n\n  ngOnInit() {\n    this.groups$ = this.groupsService.getAllTastingGroups();\n    console.log(this.groups$);\n  }\n\n  showGroupDetails(group) {\n    this.showDetails = true;\n    this.selectedGroup = group;\n  }\n\n  showAddGroupModal() {\n    this.showAddGroup = true;\n    console.log(this.showAddGroup);\n  }\n\n  deleteGroup(groups) {\n    this.groupsService.deleteTastingGroup(groups.GroupId);\n    console.log(groups.GroupId);\n    this.messageService.add({\n      severity: 'success',\n      summary: 'Group Deleted',\n      detail: `${groups.GroupName} has been successfully deleted.`\n    });\n    this.changeDetector.detectChanges();\n  }\n\n}\n\nGroupsComponent.ɵfac = function GroupsComponent_Factory(t) {\n  return new (t || GroupsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TastingGroupService), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n\nGroupsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GroupsComponent,\n  selectors: [[\"app-groups\"]],\n  decls: 7,\n  vars: 6,\n  consts: [[\"header\", \"Tasting Groups\"], [\"selectionMode\", \"single\", 3, \"value\", \"selection\", \"selectionChange\", \"onRowSelect\", \"onRowUnselect\", 4, \"ngIf\"], [\"label\", \"Add Group\", 3, \"onClick\", 4, \"ngIf\"], [4, \"ngIf\"], [\"selectionMode\", \"single\", 3, \"value\", \"selection\", \"selectionChange\", \"onRowSelect\", \"onRowUnselect\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [3, \"pSelectableRow\"], [\"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-pencil\", 1, \"p-button-rounded\", \"p-button-success\", \"mr-2\"], [\"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-trash\", 1, \"p-button-rounded\", \"p-button-danger\", 3, \"click\"], [\"label\", \"Add Group\", 3, \"onClick\"], [3, \"groupDetails\"], [\"header\", \"Add Group\", 3, \"visible\", \"modal\", \"visibleChange\"]],\n  template: function GroupsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"p-toast\");\n      i0.ɵɵelementStart(1, \"p-panel\", 0);\n      i0.ɵɵtemplate(2, GroupsComponent_p_table_2_Template, 3, 2, \"p-table\", 1);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, GroupsComponent_p_button_4_Template, 1, 0, \"p-button\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, GroupsComponent_div_5_Template, 2, 1, \"div\", 3);\n      i0.ɵɵtemplate(6, GroupsComponent_div_6_Template, 3, 2, \"div\", 3);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx.groups$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.showDetails);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showDetails);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showAddGroup);\n    }\n  },\n  dependencies: [i4.NgIf, i3.PrimeTemplate, i5.Panel, i6.ButtonDirective, i6.Button, i7.Dialog, i8.Toast, i9.Table, i9.SelectableRow, i10.GroupDetailsComponent, i4.AsyncPipe],\n  styles: [\"[_nghost-%COMP%]   p-panel[_ngcontent-%COMP%]  .p-component {\\n  margin-top: 1rem;\\n}\\n[_nghost-%COMP%]   p-button[_ngcontent-%COMP%]     {\\n  display: flex;\\n  flex-direction: row-reverse;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyb3Vwcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNFLGdCQUFBO0FBRE47QUFLRTtFQUNFLGFBQUE7RUFDQSwyQkFBQTtBQUhKIiwiZmlsZSI6Imdyb3Vwcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgcC1wYW5lbDo6bmctZGVlcCB7XG4gICAgLnAtY29tcG9uZW50IHtcbiAgICAgIG1hcmdpbi10b3A6IDFyZW07XG4gICAgfVxuICB9XG5cbiAgcC1idXR0b24gOjpuZy1kZWVwIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcbiAgfVxufVxuIl19 */\"]\n});","map":{"version":3,"mappings":"AAAA,SAASA,iBAAT,QAAqD,eAArD;;;;;;;;;;;;;;;ICSMC,2BAAI,CAAJ,EAAI,IAAJ;IACMA;IAAUA;IACdA;IAAIA;IAAYA;IAChBA;IAAIA;IAAOA;IACXA;IAAIA;IAAYA;IAChBA;IACFA;;;;;;;;IAGAA,8BAA8B,CAA9B,EAA8B,IAA9B;IACMA;IAAsBA;IAC1BA;IAAIA;IAA6BA;IACjCA;IAAIA;IAAwBA;IAC5BA;IAAIA;IAA2BA;IAC/BA;IACEA;IACAA;IAAoFA;MAAA;MAAA;MAAA;MAAA,OAASA,6CAAT;IAA4B,CAA5B;IAA8BA;;;;;IAPlHA;IACEA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;;;;;;;;IApBVA;IAGSA;MAAAA;MAAA;MAAA;IAAA,GAA6B,aAA7B,EAA6B;MAAAA;MAAA;MAAA,OACdA,qDADc;IACe,CAD5C,EAA6B,eAA7B,EAA6B;MAAAA;MAAA;MAAA,4CAEE,KAFF;IAEO,CAFpC;IAGPA;IASAA;IAYFA;;;;;;IA1BSA,kCAAgB,WAAhB,EAAgBC,oBAAhB;;;;;;;;IA2BTD;IAAiDA;MAAAA;MAAA;MAAA,OAAWA,2CAAX;IAA8B,CAA9B;IAEjDA;;;;;;IAEFA;IACEA;IACFA;;;;;IADqBA;IAAAA;;;;;;;;IAErBA,4BAA0B,CAA1B,EAA0B,UAA1B,EAA0B,EAA1B;IAC+BA;MAAAA;MAAA;MAAA;IAAA;IAC3BA;IACFA;;;;;IAF6BA;IAAAA,8CAA0B,OAA1B,EAA0B,IAA1B;;;;ADzB/B,OAAM,MAAOE,eAAP,CAAsB;EAQ1BC,YAA6BC,MAA7B,EAC6BC,aAD7B,EAE6BC,cAF7B,EAG6BC,cAH7B,EAG8D;IAHjC;IACA;IACA;IACA;IAN7B,mBAAc,KAAd;IACA,oBAAe,KAAf;EAKmE;;EAEnEC,QAAQ;IACN,KAAKC,OAAL,GAAe,KAAKJ,aAAL,CAAmBK,mBAAnB,EAAf;IACAC,OAAO,CAACC,GAAR,CAAY,KAAKH,OAAjB;EACD;;EAEDI,gBAAgB,CAACC,KAAD,EAAoB;IAClC,KAAKC,WAAL,GAAmB,IAAnB;IACA,KAAKC,aAAL,GAAqBF,KAArB;EACD;;EAEDG,iBAAiB;IACf,KAAKC,YAAL,GAAoB,IAApB;IACAP,OAAO,CAACC,GAAR,CAAY,KAAKM,YAAjB;EACD;;EAEDC,WAAW,CAACC,MAAD,EAAqB;IAC9B,KAAKf,aAAL,CAAmBgB,kBAAnB,CAAsCD,MAAM,CAACE,OAA7C;IACAX,OAAO,CAACC,GAAR,CAAYQ,MAAM,CAACE,OAAnB;IACA,KAAKhB,cAAL,CAAoBiB,GAApB,CAAwB;MACtBC,QAAQ,EAAE,SADY;MAEtBC,OAAO,EAAE,eAFa;MAGtBC,MAAM,EAAC,GAAGN,MAAM,CAACO,SAAS;IAHJ,CAAxB;IAKA,KAAKpB,cAAL,CAAoBqB,aAApB;EACD;;AArCyB;;;mBAAf1B,iBAAeF;AAAA;;;QAAfE;EAAe2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCb5BjC;MACAA;MACEA;;MA4BAA;MAGFA;MACAA;MAGAA;;;;MAnCYA;MAAAA;MA4BmBA;MAAAA;MAIzBA;MAAAA;MAGAA;MAAAA","names":["ChangeDetectorRef","i0","ctx_r0","GroupsComponent","constructor","router","groupsService","messageService","changeDetector","ngOnInit","groups$","getAllTastingGroups","console","log","showGroupDetails","group","showDetails","selectedGroup","showAddGroupModal","showAddGroup","deleteGroup","groups","deleteTastingGroup","GroupId","add","severity","summary","detail","GroupName","detectChanges","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/jisajmk/Documents/capstone-final-project/client/src/app/groups/groups.component.ts","/Users/jisajmk/Documents/capstone-final-project/client/src/app/groups/groups.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { SelectControlValueAccessor } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { MessageService } from 'primeng/api';\nimport { Observable } from 'rxjs';\nimport { TastingGroup } from '../models/tasting-group';\nimport { TastingGroupService } from '../services/tasting-group.service';\n\n@Component({\n  selector: 'app-groups',\n  templateUrl: './groups.component.html',\n  styleUrls: ['./groups.component.scss']\n})\nexport class GroupsComponent implements OnInit {\n\n  tastingGroups!: Array<TastingGroup>;\n  groups$!: Observable<TastingGroup[]>;\n  selectedGroup!: TastingGroup;\n  showDetails = false;\n  showAddGroup = false;\n\n  constructor(private readonly router: Router,\n              private readonly groupsService: TastingGroupService,\n              private readonly messageService: MessageService,\n              private readonly changeDetector: ChangeDetectorRef) { }\n\n  ngOnInit(): void {\n    this.groups$ = this.groupsService.getAllTastingGroups();\n    console.log(this.groups$);\n  }\n\n  showGroupDetails(group: TastingGroup) {\n    this.showDetails = true;\n    this.selectedGroup = group;\n  }\n\n  showAddGroupModal() {\n    this.showAddGroup = true;\n    console.log(this.showAddGroup);\n  }\n\n  deleteGroup(groups: TastingGroup) {\n    this.groupsService.deleteTastingGroup(groups.GroupId);\n    console.log(groups.GroupId);\n    this.messageService.add({\n      severity: 'success',\n      summary: 'Group Deleted',\n      detail:`${groups.GroupName} has been successfully deleted.`\n    });\n    this.changeDetector.detectChanges();\n  }\n}\n","<p-toast></p-toast>\n<p-panel header=\"Tasting Groups\">\n  <p-table *ngIf=\"groups$ | async as groups\"\n           [value]=\"groups\"\n           selectionMode=\"single\"\n           [(selection)]=\"selectedGroup\"\n           (onRowSelect)=\"showGroupDetails($event.data)\"\n           (onRowUnselect)=\"showDetails = false\">\n    <ng-template pTemplate=\"header\">\n      <tr>\n        <th>Group Name</th>\n        <th>Organization</th>\n        <th>Sponsor</th>\n        <th>Member Count</th>\n        <th></th>\n      </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-groups>\n      <tr [pSelectableRow]=\"groups\">\n        <td>{{ groups.GroupName }}</td>\n        <td>{{ groups.OrganizationName }}</td>\n        <td>{{ groups.SponsorName }}</td>\n        <td>{{ groups.Members.length }}</td>\n        <td>\n          <button pButton pRipple icon=\"pi pi-pencil\" class=\"p-button-rounded p-button-success mr-2\"></button>\n          <button pButton pRipple icon=\"pi pi-trash\" class=\"p-button-rounded p-button-danger\" (click)=\"deleteGroup(groups)\"></button>\n        </td>\n      </tr>\n    </ng-template>\n  </p-table>\n  <p-button label=\"Add Group\" *ngIf=\"!showDetails\" (onClick)=\"showAddGroupModal()\">\n\n  </p-button>\n</p-panel>\n<div *ngIf=\"showDetails\">\n  <app-group-details [groupDetails]=\"selectedGroup\"></app-group-details>\n</div>\n<div *ngIf=\"showAddGroup\">\n  <p-dialog header=\"Add Group\" [(visible)]=\"showAddGroup\" [modal]=\"true\">\n    simple form\n  </p-dialog>\n</div>\n"]},"metadata":{},"sourceType":"module"}